<!-- index.html -->
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title>Saved</title>
    <link rel="stylesheet" href="../Saved/saved.css">
    <link rel="icon" type="image/png" href="../Images/logo_ExploreSpots_sin_fondo.png">
</head>
<body>
<header id="phoneHeader"></header>
<header id="desktopHeader"></header>
<main>
    <div class="contImagen" id="imagenContainer"></div>
</main>
<footer></footer>

<script src='../JavaScript/templateLoader.js'></script>
<script src='../JavaScript/userDataLoader.js'></script>
<script src="/Front_end/JavaScript/authorisationCheck.js"></script>
<script>
    cargarTemplate('../Header/header.html', '#desktopHeader');
    cargarTemplate('../PhoneHeader/phoneHeader.html', '#phoneHeader');
    cargarTemplate('../Footer/footer.html', 'footer');
</script>
<script>
    document.addEventListener('DOMContentLoaded', checkAuth);

    (async () => {
        const publications = await loadUserData("lista_guardados");
        for (let i=0; i<publications.length; i++) {
            const imagen = await loadPublicationData("lista_imagenes", publications[i]);
            const name = await loadPublicationData("nombre", publications[i]);
            const url = await getImgURL(imagen[0]);
            addImage(url, name, publications[i]);
        }
    })();
</script>
</body>
</html>

